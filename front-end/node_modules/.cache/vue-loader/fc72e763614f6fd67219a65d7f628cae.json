{"remainingRequest":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js??vue-loader-options!D:\\222管理信息系统\\mis_project_02\\src\\views\\personal\\Integral.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\222管理信息系统\\mis_project_02\\src\\views\\personal\\Integral.vue","mtime":1624350100282},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaW1nMSBmcm9tICdAL2Fzc2V0cy9pbWFnZXMvNC5wbmcnOw0KaW1wb3J0IGltZzIgZnJvbSAnQC9hc3NldHMvaW1hZ2VzLzEucG5nJzsNCmltcG9ydCBpbWczIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy8yLnBuZyc7DQppbXBvcnQgaW1nNCBmcm9tICdAL2Fzc2V0cy9pbWFnZXMvMy5wbmcnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY2NvdW50SWQ6ICcnLA0KICAgICAgdXNlcklkOiAnJywNCiAgICAgIGludGVncmFsOiAwLA0KICAgICAgZ3JhZGU6IFsNCiAgICAgICAgew0KICAgICAgICAgIHNyYzogaW1nMSwNCiAgICAgICAgICB0aXRsZTogJ+WtpuS5oCcsDQogICAgICAgICAgbnVtOiA1MiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHNyYzogaW1nMiwNCiAgICAgICAgICB0aXRsZTogJ+W/g+W+l+WIhuS6qycsDQogICAgICAgICAgbnVtOiA4NiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHNyYzogaW1nMywNCiAgICAgICAgICB0aXRsZTogJ+etlOmimCcsDQogICAgICAgICAgbnVtOiA0MiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHNyYzogaW1nNCwNCiAgICAgICAgICB0aXRsZTogJ+ivhOiuuicsDQogICAgICAgICAgbnVtOiA1OCwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldERhdGEgKCkgew0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJjb21tdW5pdHlVc2VyL3VzZXJJbmZvLyIgKyB0aGlzLnVzZXJJZCkNCiAgICAgIC8vIGNvbnNvbGUubG9nKCfnlKjmiLfkv6Hmga8nLHJlcykNCiAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHRoaXMuaW50ZWdyYWwgPSByZXMuZGF0YS5kYXRhLnNjb3JlOw0KICAgICAgfQ0KICAgICAgaWYocmVzLmRhdGEuY29kZSA9PSA1MDApIHsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfor7flhYjmv4DmtLvotKbmiLfvvIEnKQ0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2FjdGl2ZScpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmFjY291bnRJZCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCduYW1lJyk7DQogICAgdGhpcy51c2VySWQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJyk7DQogICAgdGhpcy5nZXREYXRhKCk7DQoNCiAgICBsZXQgYXJyID0gW107DQogICAgbGV0IGRhdGEgPSBbXTsNCiAgICBmb3IgKGxldCBwcm9wIG9mIHRoaXMuZ3JhZGUpIHsNCiAgICAgIGFyci5wdXNoKHByb3AudGl0bGUpOw0KICAgICAgZGF0YS5wdXNoKHsNCiAgICAgICAgdmFsdWU6IHByb3AubnVtLA0KICAgICAgICBuYW1lOiBwcm9wLnRpdGxlLA0KICAgICAgfSk7DQogICAgfQ0KICAgIGxldCBlY2ggPSB7DQogICAgICB0aXRsZTogew0KICAgICAgICB0ZXh0OiAn56ev5YiG5YiG5biDJywNCiAgICAgICAgbGVmdDogNTAsDQogICAgICAgIHRvcDogMCwNCiAgICAgIH0sDQogICAgICBsZWdlbmQ6IHsNCiAgICAgICAgbGVmdDogJzMwMHB4JywNCiAgICAgICAgZGF0YTogYXJyLA0KICAgICAgfSwNCiAgICAgIHNlcmllczogew0KICAgICAgICAvLyBuYW1lOiAi6L+b6LSn6YePIiwNCiAgICAgICAgdHlwZTogJ3BpZScsDQogICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgIGxhYmVsOiB7DQogICAgICAgICAgc2hvdzogZmFsc2UsDQogICAgICAgIH0sDQogICAgICB9LA0KICAgICAgdG9vbHRpcDoge30sDQogICAgfTsNCiAgICB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VjaCcpKS5zZXRPcHRpb24oZWNoKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["Integral.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Integral.vue","sourceRoot":"src/views/personal","sourcesContent":["<template>\r\n  <el-card class=\"box-card\">\r\n    <div slot=\"header\" class=\"clearfix\">\r\n      <el-row style=\"width:100%\">\r\n        <el-col :span=\"4\" :offset=\"4\"\r\n          ><img\r\n            style=\"width:60px\"\r\n            src=\"@/../public/images/女人-女性头像.png\"\r\n            alt=\"\"\r\n        /></el-col>\r\n        <el-col :span=\"4\" :offset=\"2\">\r\n          <el-row style=\"font-size:20px\">\r\n            <el-col>{{ accountId }}</el-col>\r\n            <el-col>{{ userId }}</el-col>\r\n          </el-row>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <el-container class=\"inf\">\r\n      <el-header>\r\n        <el-row class=\"first\">\r\n          <el-col :span=\"20\"\r\n            >积分：<span style=\"color:#f00;font-size:28px\">{{\r\n              integral\r\n            }}</span></el-col\r\n          >\r\n          <el-col :span=\"4\">\r\n            <router-link to=\"/personal/rank\"\r\n              ><span style=\" text-decoration: underline\"\r\n                >查看排行榜</span\r\n              ></router-link\r\n            >\r\n          </el-col>\r\n        </el-row>\r\n      </el-header>\r\n      <el-container>\r\n        <el-aside class=\"word\" width=\"40%\">\r\n          <ul>\r\n            <li\r\n              v-for=\"(prop, index) in grade\"\r\n              :key=\"index\"\r\n              style=\"border-bottom:1px solid #aaa\"\r\n            >\r\n              <el-row>\r\n                <el-col :span=\"3\" style=\"margin-top:-2px\">\r\n                  <img :src=\"prop.src\" alt=\"\" style=\"width:20px\" />\r\n                </el-col>\r\n                <el-col :span=\"10\">\r\n                  {{ prop.title }}\r\n                </el-col>\r\n                <el-col :offset=\"6\" :span=\"4\">\r\n                  {{ prop.num }}\r\n                </el-col>\r\n              </el-row>\r\n            </li>\r\n          </ul>\r\n        </el-aside>\r\n        <el-main><div id=\"ech\" class=\"pic\"></div></el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport img1 from '@/assets/images/4.png';\r\nimport img2 from '@/assets/images/1.png';\r\nimport img3 from '@/assets/images/2.png';\r\nimport img4 from '@/assets/images/3.png';\r\nexport default {\r\n  data() {\r\n    return {\r\n      accountId: '',\r\n      userId: '',\r\n      integral: 0,\r\n      grade: [\r\n        {\r\n          src: img1,\r\n          title: '学习',\r\n          num: 52,\r\n        },\r\n        {\r\n          src: img2,\r\n          title: '心得分享',\r\n          num: 86,\r\n        },\r\n        {\r\n          src: img3,\r\n          title: '答题',\r\n          num: 42,\r\n        },\r\n        {\r\n          src: img4,\r\n          title: '评论',\r\n          num: 58,\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async getData () {\r\n      let res = await this.$http.get(\"communityUser/userInfo/\" + this.userId)\r\n      // console.log('用户信息',res)\r\n      if(res.data.code == 200) {\r\n        this.integral = res.data.data.score;\r\n      }\r\n      if(res.data.code == 500) {\r\n        this.$message.success('请先激活账户！')\r\n        this.$router.push('/active');\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.accountId = window.sessionStorage.getItem('name');\r\n    this.userId = window.sessionStorage.getItem('userId');\r\n    this.getData();\r\n\r\n    let arr = [];\r\n    let data = [];\r\n    for (let prop of this.grade) {\r\n      arr.push(prop.title);\r\n      data.push({\r\n        value: prop.num,\r\n        name: prop.title,\r\n      });\r\n    }\r\n    let ech = {\r\n      title: {\r\n        text: '积分分布',\r\n        left: 50,\r\n        top: 0,\r\n      },\r\n      legend: {\r\n        left: '300px',\r\n        data: arr,\r\n      },\r\n      series: {\r\n        // name: \"进货量\",\r\n        type: 'pie',\r\n        data: data,\r\n        label: {\r\n          show: false,\r\n        },\r\n      },\r\n      tooltip: {},\r\n    };\r\n    this.$echarts.init(document.getElementById('ech')).setOption(ech);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  width: 80%;\r\n  margin: 20px 10% auto 10%;\r\n}\r\n\r\n.inf .first {\r\n  margin: 0px auto 0px 20px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  border-bottom: 1px solid #999;\r\n}\r\n\r\n.word {\r\n  margin-top: 30px;\r\n}\r\n\r\n.pic {\r\n  width: 90%;\r\n  height: 200px;\r\n  padding: 0;\r\n  padding-left: 10px;\r\n}\r\n\r\n.el-main {\r\n  padding: 0;\r\n}\r\n</style>\r\n"]}]}