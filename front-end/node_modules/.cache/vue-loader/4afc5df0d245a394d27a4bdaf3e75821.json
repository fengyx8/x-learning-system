{"remainingRequest":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js??vue-loader-options!D:\\222管理信息系统\\mis_project_02\\src\\views\\admin\\ReviewExperience.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\222管理信息系统\\mis_project_02\\src\\views\\admin\\ReviewExperience.vue","mtime":1623935124400},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaW1nMSBmcm9tICdALy4uL3B1YmxpYy9pbWFnZXMv5aWz5Lq6LeWls+aAp+WktOWDjy5wbmcnOw0KaW1wb3J0IGltZzIgZnJvbSAnQC8uLi9wdWJsaWMvaW1hZ2VzL+Wls+S6ui5wbmcnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWxlY3Q6IFsNCiAgICAgICAgew0KICAgICAgICAgIHNyYzogaW1nMSwNCiAgICAgICAgICBuYW1lOiAn5byg5LiJJywNCiAgICAgICAgICB3b3JkOg0KICAgICAgICAgICAgJ+WTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiOWTiCcsDQogICAgICAgICAga2V5OiAxLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgc3JjOiBpbWcyLA0KICAgICAgICAgIG5hbWU6ICfmnY7lm5snLA0KICAgICAgICAgIHdvcmQ6ICflj6vlpKflrrbnjJznjJzlkKfmiY3og73kv53mjIHlvIDmnLrlhoXlrZjnqbrpl7Tog73nnIvop4EnLA0KICAgICAgICAgIGtleTogMiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHNyYzogaW1nMSwNCiAgICAgICAgICBuYW1lOiAn546L5LqUJywNCiAgICAgICAgICB3b3JkOiAn5LiK55yL6LaF57qn6Zq+55yL5q2kdeminei5memineWOu+W5tOejgei9reWOu+S9oCcsDQogICAgICAgICAga2V5OiAzLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgc3JjOiBpbWcyLA0KICAgICAgICAgIG5hbWU6ICfnjovkupQnLA0KICAgICAgICAgIHdvcmQ6ICfkuIrnnIvotoXnuqfpmr7nnIvmraR16aKd6LmZ6aKd5Y675bm056OB6L2t5Y675L2gJywNCiAgICAgICAgICBrZXk6IDQsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBzcmM6IGltZzEsDQogICAgICAgICAgbmFtZTogJ+eOi+S6lCcsDQogICAgICAgICAgd29yZDogJ+S4iueci+i2hee6p+mavueci+atpHXpop3ouZnpop3ljrvlubTno4Hova3ljrvkvaAnLA0KICAgICAgICAgIGtleTogNCwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBub3dQYWdlOiAxLA0KICAgICAgdG90YWw6IDEwMCwNCiAgICAgIHRhYmxlRGF0YTogW10sDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmdldERhdGEoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGdldERhdGEgKCkgew0KICAgICAgLy8gbGV0IHJlcyA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJjb21tdW5pdHlXaG9sZS9ub3RlTGlzdCIpOw0KICAgICAgbGV0IHVzZXJJZCA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKTsNCiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiY29tbXVuaXR5VXNlci91c2VySW5mby8iICsgdXNlcklkKQ0KICAgICAgY29uc29sZS5sb2coJ3h4JyxyZXMuZGF0YS5kYXRhLm5vdGVzKTsNCiAgICAgIGxldCBhcnIgPSBbXTsNCiAgICAgIGZvcih2YXIgaT0wO2k8cmVzLmRhdGEuZGF0YS5ub3Rlcy5sZW5ndGg7aSsrKSB7DQogICAgICAgIGxldCBzdGF0dXMgPSAn5pyq5a6h5qC4JzsNCiAgICAgICAgaWYocmVzLmRhdGEuZGF0YS5ub3Rlc1tpXS5zdGF0dXMgPT0gMSkgew0KICAgICAgICAgIHN0YXR1cyA9ICflrqHmoLjpgJrov4cnDQogICAgICAgIH0NCiAgICAgICAgaWYocmVzLmRhdGEuZGF0YS5ub3Rlc1tpXS5zdGF0dXMgPT0gMikgew0KICAgICAgICAgIHN0YXR1cyA9ICfkuI3pgJrov4cnDQogICAgICAgIH0NCiAgICAgICAgYXJyLnB1c2goew0KICAgICAgICAgIGNvbnRlbnQ6IHJlcy5kYXRhLmRhdGEubm90ZXNbaV0uY29udGVudCwNCiAgICAgICAgICBzdGF0dXM6IHN0YXR1cywNCiAgICAgICAgICB1c2VySWQ6IHJlcy5kYXRhLmRhdGEubm90ZXNbaV0udXNlcklkLA0KICAgICAgICAgIG5vdGVJZDogcmVzLmRhdGEuZGF0YS5ub3Rlc1tpXS5ub3RlSWQsDQogICAgICAgICAgdGltZTogcmVzLmRhdGEuZGF0YS5ub3Rlc1tpXS50aW1lLnN1YnN0cmluZygwLDEwKSwNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICAgIHRoaXMudGFibGVEYXRhID0gYXJyOw0KICAgICAgLy8gY29uc29sZS5sb2coJ3NoZW5oZScscmVzLmRhdGEuZGF0YSkNCiAgICB9LA0KICAgIHNlbGVjdGVkKGtleSkgew0KICAgICAgLy/moLnmja5rZXnlr7nlkI7lj7Dlj5HpgIHor7fmsYLmm7TmlLnmlbDmja7vvIznhLblkI7lho3ojrflvpfmnIDmlrDnmoTpnIDopoHnsr7pgInnmoTmlbDmja7lm57loatzZWxlY3QNCiAgICAgIGNvbnNvbGUubG9nKGtleSk7DQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVDbGljayhlKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhlKTsNCiAgICAgIGNvbnNvbGUubG9nKGUubm90ZUlkKTsNCiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLnB1dCgibWFuYWdlck9wZXJhdGlvbi9uY1N0YXR1cz9jb250ZW50SWQ9IiArIGUubm90ZUlkICsiJmlzQ2hlY2tlZD10cnVlIikNCiAgICAgIC8vIGNvbnNvbGUubG9nKCflrqHmoLjnu5PmnpwnLHJlcy5kYXRhKTsNCiAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfIScpOw0KICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pSEnKQ0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgaGFuZGxlQ2xpY2tSZWplY3QoZSkgew0KICAgICAgLy8gY29uc29sZS5sb2coZSk7DQogICAgICBjb25zb2xlLmxvZyhlLm5vdGVJZCk7DQogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoIm1hbmFnZXJPcGVyYXRpb24vbmNTdGF0dXM/Y29udGVudElkPSIgKyBlLm5vdGVJZCArIiZpc0NoZWNrZWQ9ZmFsc2UiKQ0KICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsNCiAgICAgIGlmKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pON5L2c5oiQ5YqfIScpOw0KICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+aTjeS9nOWksei0pSEnKQ0KICAgICAgfQ0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZShjdXJyZW50UGFnZSkgew0KICAgICAgdGhpcy5ub3dQYWdlID0gY3VycmVudFBhZ2U7DQogICAgICAvL+WQkeWQjuWPsOiOt+WPluaVsOaNruWbnuWhq3RhYmxlRGF0YQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["ReviewExperience.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReviewExperience.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <el-card class=\"box-card\">\r\n    <div slot=\"header\" class=\"clearfix\">\r\n      <span>心得审核</span>\r\n    </div>\r\n    <div class=\"content\">\r\n      <!-- <ul>\r\n        <li v-for=\"(prop, index) in select\" :key=\"index\">\r\n          <div class=\"img\">\r\n            <img :src=\"prop.src\" alt=\"\" />\r\n          </div>\r\n          <div class=\"main\">\r\n            <div class=\"name\">{{ prop.name }}</div>\r\n            <div class=\"word\">\r\n              {{ prop.word }}\r\n            </div>\r\n          </div>\r\n          <el-button\r\n            size=\"mini\"\r\n            class=\"mybtn\"\r\n            @click=\"selected(prop.key)\"\r\n            type=\"primary\"\r\n            >精选</el-button\r\n          >\r\n        </li>\r\n      </ul> -->\r\n\r\n\r\n      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"noteId\" label=\"心得Id\" width=\"70\"> </el-table-column>\r\n        <el-table-column prop=\"userId\" label=\"用户Id\" width=\"90\"> </el-table-column>\r\n        <el-table-column prop=\"time\" label=\"发表时间\" width=\"100\"> </el-table-column>\r\n        <el-table-column prop=\"content\" label=\"内容\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"审核状态\" width=\"80\"> </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">通过</el-button>\r\n            <el-button @click=\"handleClickReject(scope.row)\" type=\"text\" size=\"small\" class=\"danger\">不通过</el-button>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- <div style=\"display:flex;justify-content:center\">\r\n      <el-pagination\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"nowPage\"\r\n      >\r\n      </el-pagination>\r\n    </div> -->\r\n\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport img1 from '@/../public/images/女人-女性头像.png';\r\nimport img2 from '@/../public/images/女人.png';\r\nexport default {\r\n  data() {\r\n    return {\r\n      select: [\r\n        {\r\n          src: img1,\r\n          name: '张三',\r\n          word:\r\n            '哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈',\r\n          key: 1,\r\n        },\r\n        {\r\n          src: img2,\r\n          name: '李四',\r\n          word: '叫大家猜猜吧才能保持开机内存空间能看见',\r\n          key: 2,\r\n        },\r\n        {\r\n          src: img1,\r\n          name: '王五',\r\n          word: '上看超级难看此u额蹙额去年磁轭去你',\r\n          key: 3,\r\n        },\r\n        {\r\n          src: img2,\r\n          name: '王五',\r\n          word: '上看超级难看此u额蹙额去年磁轭去你',\r\n          key: 4,\r\n        },\r\n        {\r\n          src: img1,\r\n          name: '王五',\r\n          word: '上看超级难看此u额蹙额去年磁轭去你',\r\n          key: 4,\r\n        },\r\n      ],\r\n      nowPage: 1,\r\n      total: 100,\r\n      tableData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    async getData () {\r\n      // let res = await this.$http.get(\"communityWhole/noteList\");\r\n      let userId = window.sessionStorage.getItem('userId');\r\n      let res = await this.$http.get(\"communityUser/userInfo/\" + userId)\r\n      console.log('xx',res.data.data.notes);\r\n      let arr = [];\r\n      for(var i=0;i<res.data.data.notes.length;i++) {\r\n        let status = '未审核';\r\n        if(res.data.data.notes[i].status == 1) {\r\n          status = '审核通过'\r\n        }\r\n        if(res.data.data.notes[i].status == 2) {\r\n          status = '不通过'\r\n        }\r\n        arr.push({\r\n          content: res.data.data.notes[i].content,\r\n          status: status,\r\n          userId: res.data.data.notes[i].userId,\r\n          noteId: res.data.data.notes[i].noteId,\r\n          time: res.data.data.notes[i].time.substring(0,10),\r\n        })\r\n      }\r\n      this.tableData = arr;\r\n      // console.log('shenhe',res.data.data)\r\n    },\r\n    selected(key) {\r\n      //根据key对后台发送请求更改数据，然后再获得最新的需要精选的数据回填select\r\n      console.log(key);\r\n    },\r\n    async handleClick(e) {\r\n      // console.log(e);\r\n      console.log(e.noteId);\r\n      let res = await this.$http.put(\"managerOperation/ncStatus?contentId=\" + e.noteId +\"&isChecked=true\")\r\n      // console.log('审核结果',res.data);\r\n      if(res.data.code == 200) {\r\n        this.$message.success('操作成功!');\r\n        this.getData();\r\n      } else {\r\n        this.$message.error('操作失败!')\r\n      }\r\n    },\r\n    async handleClickReject(e) {\r\n      // console.log(e);\r\n      console.log(e.noteId);\r\n      let res = await this.$http.put(\"managerOperation/ncStatus?contentId=\" + e.noteId +\"&isChecked=false\")\r\n      // console.log(res);\r\n      if(res.data.code == 200) {\r\n        this.$message.success('操作成功!');\r\n        this.getData();\r\n      } else {\r\n        this.$message.error('操作失败!')\r\n      }\r\n    },\r\n    handleCurrentChange(currentPage) {\r\n      this.nowPage = currentPage;\r\n      //向后台获取数据回填tableData\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  width: 100%;\r\n  margin: 0px 0% auto 0%;\r\n}\r\n.content {\r\n  width: 100%;\r\n  /* margin-left: 5%; */\r\n  /* height: 330px; */\r\n  min-height: 330px;\r\n  /* overflow-y: scroll; */\r\n  /* background-color: blue; */\r\n}\r\nul {\r\n  position: relative;\r\n}\r\nul > li {\r\n  list-style: none;\r\n  position: relative;\r\n  margin-top: 10px;\r\n}\r\n.img {\r\n  float: left;\r\n  position: relative;\r\n  width: 40px;\r\n  height: 40px;\r\n  top: 0;\r\n  /* background-color: blue; */\r\n}\r\n.img > img {\r\n  width: 100%;\r\n}\r\nli::after {\r\n  content: '';\r\n  clear: both;\r\n  display: block;\r\n}\r\n.main {\r\n  font-size: 14px;\r\n  margin-left: 50px;\r\n  width: 60%;\r\n}\r\n.name {\r\n  font-size: 12px;\r\n}\r\n.mybtn {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 10px;\r\n}\r\n.el-button {\r\n  color: #0aa;\r\n}\r\n.danger {\r\n  color: red;\r\n}\r\n</style>\r\n"]}]}