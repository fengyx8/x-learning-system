{"remainingRequest":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js??vue-loader-options!D:\\222管理信息系统\\mis_project_02\\src\\views\\admin\\ReviewExperience.vue?vue&type=style&index=0&id=2f85a817&scoped=true&lang=css&","dependencies":[{"path":"D:\\222管理信息系统\\mis_project_02\\src\\views\\admin\\ReviewExperience.vue","mtime":1623935124400},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmJveC1jYXJkIHsNCiAgd2lkdGg6IDEwMCU7DQogIG1hcmdpbjogMHB4IDAlIGF1dG8gMCU7DQp9DQouY29udGVudCB7DQogIHdpZHRoOiAxMDAlOw0KICAvKiBtYXJnaW4tbGVmdDogNSU7ICovDQogIC8qIGhlaWdodDogMzMwcHg7ICovDQogIG1pbi1oZWlnaHQ6IDMzMHB4Ow0KICAvKiBvdmVyZmxvdy15OiBzY3JvbGw7ICovDQogIC8qIGJhY2tncm91bmQtY29sb3I6IGJsdWU7ICovDQp9DQp1bCB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCn0NCnVsID4gbGkgew0KICBsaXN0LXN0eWxlOiBub25lOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIG1hcmdpbi10b3A6IDEwcHg7DQp9DQouaW1nIHsNCiAgZmxvYXQ6IGxlZnQ7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgd2lkdGg6IDQwcHg7DQogIGhlaWdodDogNDBweDsNCiAgdG9wOiAwOw0KICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlOyAqLw0KfQ0KLmltZyA+IGltZyB7DQogIHdpZHRoOiAxMDAlOw0KfQ0KbGk6OmFmdGVyIHsNCiAgY29udGVudDogJyc7DQogIGNsZWFyOiBib3RoOw0KICBkaXNwbGF5OiBibG9jazsNCn0NCi5tYWluIHsNCiAgZm9udC1zaXplOiAxNHB4Ow0KICBtYXJnaW4tbGVmdDogNTBweDsNCiAgd2lkdGg6IDYwJTsNCn0NCi5uYW1lIHsNCiAgZm9udC1zaXplOiAxMnB4Ow0KfQ0KLm15YnRuIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICByaWdodDogMjBweDsNCiAgdG9wOiAxMHB4Ow0KfQ0KLmVsLWJ1dHRvbiB7DQogIGNvbG9yOiAjMGFhOw0KfQ0KLmRhbmdlciB7DQogIGNvbG9yOiByZWQ7DQp9DQo="},{"version":3,"sources":["ReviewExperience.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReviewExperience.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <el-card class=\"box-card\">\r\n    <div slot=\"header\" class=\"clearfix\">\r\n      <span>心得审核</span>\r\n    </div>\r\n    <div class=\"content\">\r\n      <!-- <ul>\r\n        <li v-for=\"(prop, index) in select\" :key=\"index\">\r\n          <div class=\"img\">\r\n            <img :src=\"prop.src\" alt=\"\" />\r\n          </div>\r\n          <div class=\"main\">\r\n            <div class=\"name\">{{ prop.name }}</div>\r\n            <div class=\"word\">\r\n              {{ prop.word }}\r\n            </div>\r\n          </div>\r\n          <el-button\r\n            size=\"mini\"\r\n            class=\"mybtn\"\r\n            @click=\"selected(prop.key)\"\r\n            type=\"primary\"\r\n            >精选</el-button\r\n          >\r\n        </li>\r\n      </ul> -->\r\n\r\n\r\n      <el-table :data=\"tableData\" border style=\"width: 100%\">\r\n        <el-table-column prop=\"noteId\" label=\"心得Id\" width=\"70\"> </el-table-column>\r\n        <el-table-column prop=\"userId\" label=\"用户Id\" width=\"90\"> </el-table-column>\r\n        <el-table-column prop=\"time\" label=\"发表时间\" width=\"100\"> </el-table-column>\r\n        <el-table-column prop=\"content\" label=\"内容\"></el-table-column>\r\n        <el-table-column prop=\"status\" label=\"审核状态\" width=\"80\"> </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\">通过</el-button>\r\n            <el-button @click=\"handleClickReject(scope.row)\" type=\"text\" size=\"small\" class=\"danger\">不通过</el-button>\r\n          </template>\r\n        </el-table-column>\r\n        \r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- <div style=\"display:flex;justify-content:center\">\r\n      <el-pagination\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"nowPage\"\r\n      >\r\n      </el-pagination>\r\n    </div> -->\r\n\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nimport img1 from '@/../public/images/女人-女性头像.png';\r\nimport img2 from '@/../public/images/女人.png';\r\nexport default {\r\n  data() {\r\n    return {\r\n      select: [\r\n        {\r\n          src: img1,\r\n          name: '张三',\r\n          word:\r\n            '哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈哈',\r\n          key: 1,\r\n        },\r\n        {\r\n          src: img2,\r\n          name: '李四',\r\n          word: '叫大家猜猜吧才能保持开机内存空间能看见',\r\n          key: 2,\r\n        },\r\n        {\r\n          src: img1,\r\n          name: '王五',\r\n          word: '上看超级难看此u额蹙额去年磁轭去你',\r\n          key: 3,\r\n        },\r\n        {\r\n          src: img2,\r\n          name: '王五',\r\n          word: '上看超级难看此u额蹙额去年磁轭去你',\r\n          key: 4,\r\n        },\r\n        {\r\n          src: img1,\r\n          name: '王五',\r\n          word: '上看超级难看此u额蹙额去年磁轭去你',\r\n          key: 4,\r\n        },\r\n      ],\r\n      nowPage: 1,\r\n      total: 100,\r\n      tableData: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    async getData () {\r\n      // let res = await this.$http.get(\"communityWhole/noteList\");\r\n      let userId = window.sessionStorage.getItem('userId');\r\n      let res = await this.$http.get(\"communityUser/userInfo/\" + userId)\r\n      console.log('xx',res.data.data.notes);\r\n      let arr = [];\r\n      for(var i=0;i<res.data.data.notes.length;i++) {\r\n        let status = '未审核';\r\n        if(res.data.data.notes[i].status == 1) {\r\n          status = '审核通过'\r\n        }\r\n        if(res.data.data.notes[i].status == 2) {\r\n          status = '不通过'\r\n        }\r\n        arr.push({\r\n          content: res.data.data.notes[i].content,\r\n          status: status,\r\n          userId: res.data.data.notes[i].userId,\r\n          noteId: res.data.data.notes[i].noteId,\r\n          time: res.data.data.notes[i].time.substring(0,10),\r\n        })\r\n      }\r\n      this.tableData = arr;\r\n      // console.log('shenhe',res.data.data)\r\n    },\r\n    selected(key) {\r\n      //根据key对后台发送请求更改数据，然后再获得最新的需要精选的数据回填select\r\n      console.log(key);\r\n    },\r\n    async handleClick(e) {\r\n      // console.log(e);\r\n      console.log(e.noteId);\r\n      let res = await this.$http.put(\"managerOperation/ncStatus?contentId=\" + e.noteId +\"&isChecked=true\")\r\n      // console.log('审核结果',res.data);\r\n      if(res.data.code == 200) {\r\n        this.$message.success('操作成功!');\r\n        this.getData();\r\n      } else {\r\n        this.$message.error('操作失败!')\r\n      }\r\n    },\r\n    async handleClickReject(e) {\r\n      // console.log(e);\r\n      console.log(e.noteId);\r\n      let res = await this.$http.put(\"managerOperation/ncStatus?contentId=\" + e.noteId +\"&isChecked=false\")\r\n      // console.log(res);\r\n      if(res.data.code == 200) {\r\n        this.$message.success('操作成功!');\r\n        this.getData();\r\n      } else {\r\n        this.$message.error('操作失败!')\r\n      }\r\n    },\r\n    handleCurrentChange(currentPage) {\r\n      this.nowPage = currentPage;\r\n      //向后台获取数据回填tableData\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.box-card {\r\n  width: 100%;\r\n  margin: 0px 0% auto 0%;\r\n}\r\n.content {\r\n  width: 100%;\r\n  /* margin-left: 5%; */\r\n  /* height: 330px; */\r\n  min-height: 330px;\r\n  /* overflow-y: scroll; */\r\n  /* background-color: blue; */\r\n}\r\nul {\r\n  position: relative;\r\n}\r\nul > li {\r\n  list-style: none;\r\n  position: relative;\r\n  margin-top: 10px;\r\n}\r\n.img {\r\n  float: left;\r\n  position: relative;\r\n  width: 40px;\r\n  height: 40px;\r\n  top: 0;\r\n  /* background-color: blue; */\r\n}\r\n.img > img {\r\n  width: 100%;\r\n}\r\nli::after {\r\n  content: '';\r\n  clear: both;\r\n  display: block;\r\n}\r\n.main {\r\n  font-size: 14px;\r\n  margin-left: 50px;\r\n  width: 60%;\r\n}\r\n.name {\r\n  font-size: 12px;\r\n}\r\n.mybtn {\r\n  position: absolute;\r\n  right: 20px;\r\n  top: 10px;\r\n}\r\n.el-button {\r\n  color: #0aa;\r\n}\r\n.danger {\r\n  color: red;\r\n}\r\n</style>\r\n"]}]}