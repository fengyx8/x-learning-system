{"remainingRequest":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js??vue-loader-options!D:\\222管理信息系统\\mis_project_02\\src\\components\\index\\Bar.vue?vue&type=style&index=0&id=0785de68&scoped=true&lang=css&","dependencies":[{"path":"D:\\222管理信息系统\\mis_project_02\\src\\components\\index\\Bar.vue","mtime":1624360838954},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_css-loader@3.6.0@css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojbWFpbnRlc3RCYXIgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDQwMHB4OwogICAgYm9yZGVyOiAxcHggc29saWQgI0VCRUVGNTsKfQo="},{"version":3,"sources":["Bar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA","file":"Bar.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\r\n    <div id=\"maintestBar\" v-loading=\"loading\"></div>\r\n</template>\r\n\r\n<script>\r\nvar echarts = require('echarts')\r\n\r\nfunction graph(nameList, scoreList) {\r\nvar myChart = echarts.init(document.getElementById('maintestBar'));\r\nvar option = {};\r\n\r\n        option = {\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {            // 坐标轴指示器，坐标轴触发有效\r\n                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n                }\r\n            },\r\n            grid: {\r\n                left: '3%',\r\n                right: '4%',\r\n                bottom: '3%',\r\n                containLabel: true\r\n            },\r\n            xAxis: [\r\n                {\r\n                    type: 'category',\r\n                    // data: ['张三', '李四', '王五', '赵六', '小七'],\r\n                    data: nameList,\r\n                    axisTick: {\r\n                        alignWithLabel: true\r\n                    }\r\n                }\r\n            ],\r\n            yAxis: [\r\n                {\r\n                    type: 'value'\r\n                }\r\n            ],\r\n            series: [\r\n                {\r\n                    name: '积分',\r\n                    type: 'bar',\r\n                    barWidth: '60%',\r\n                    // data: [390, 352, 200, 134, 90]\r\n                    data: scoreList\r\n                }\r\n            ]\r\n        };\r\n\r\nmyChart.setOption(option);\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            nameList: [],\r\n            scoreList: [],\r\n            loading: true\r\n        }\r\n    },\r\n    methods: {\r\n        graph,\r\n        async getData () {\r\n            let res = await this.$http.get(\"communityWhole/scoreBoard\");\r\n            console.log(res.data)\r\n            let arr = res.data.data.reverse();\r\n            let arr2 = arr.splice(0,5);\r\n\r\n            // 数据处理\r\n            for(var i=0;i<arr2.length;i++) {\r\n                this.nameList.push(arr2[i].name)\r\n                this.scoreList.push(arr2[i].score)\r\n            }\r\n            \r\n            console.log('条图>',this.nameList)\r\n            console.log('条图>',this.scoreList)\r\n\r\n            setTimeout(() => {\r\n                this.graph(this.nameList, this.scoreList);\r\n                this.loading = false;\r\n            }, 1000);\r\n            \r\n        },\r\n        async getData2 () {\r\n            let res = await this.$http.get(\r\n                \"/getGraph\"\r\n            )\r\n            console.log('地图request',res);\r\n            let data = res.data;\r\n\r\n            // 析构\r\n            // let {data} = await this.$http.get(\r\n            //     \"getGraph\"\r\n            // )\r\n            // console.log('xx',data);\r\n            // let data = res;\r\n\r\n\r\n            // 本地测试\r\n            // let  {data}  = await this.$get(\"/data/multi.json\");\r\n            // console.log(data)\r\n\r\n            // 数据处理\r\n            let arr = [];\r\n            for(var i=0; i<data.geo.length; i++) {\r\n                let oneValue = [];\r\n                oneValue.push(data.geo[i].lng);\r\n                oneValue.push(data.geo[i].lat);\r\n                oneValue.push(0.2);\r\n                arr.push({\r\n                    name: data.geo[i].name,\r\n                    value: oneValue,\r\n                });\r\n            }\r\n            this.list = arr;\r\n            \r\n            // console.log('地图>')\r\n            // console.log(arr)\r\n            setTimeout(() => {\r\n                this.graph(this.list);\r\n                this.loading = false;\r\n            }, 1000);\r\n            \r\n        },\r\n    },\r\n    mounted () {\r\n        this.getData();\r\n        // this.getData2();\r\n    },\r\n    \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    #maintestBar {\r\n        width: 100%;\r\n        height: 400px;\r\n        border: 1px solid #EBEEF5;\r\n    }\r\n</style>\r\n"]}]}