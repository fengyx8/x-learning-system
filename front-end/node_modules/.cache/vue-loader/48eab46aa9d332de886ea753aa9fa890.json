{"remainingRequest":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js??vue-loader-options!D:\\222管理信息系统\\mis_project_02\\src\\components\\index\\Bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\222管理信息系统\\mis_project_02\\src\\components\\index\\Bar.vue","mtime":1624360838954},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_babel-loader@8.2.2@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\222管理信息系统\\mis_project_02\\node_modules\\_vue-loader@15.9.7@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQp2YXIgZWNoYXJ0cyA9IHJlcXVpcmUoJ2VjaGFydHMnKQ0KDQpmdW5jdGlvbiBncmFwaChuYW1lTGlzdCwgc2NvcmVMaXN0KSB7DQp2YXIgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbnRlc3RCYXInKSk7DQp2YXIgb3B0aW9uID0ge307DQoNCiAgICAgICAgb3B0aW9uID0gew0KICAgICAgICAgICAgdG9vbHRpcDogew0KICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdheGlzJywNCiAgICAgICAgICAgICAgICBheGlzUG9pbnRlcjogeyAgICAgICAgICAgIC8vIOWdkOagh+i9tOaMh+ekuuWZqO+8jOWdkOagh+i9tOinpuWPkeacieaViA0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2hhZG93JyAgICAgICAgLy8g6buY6K6k5Li655u057q/77yM5Y+v6YCJ5Li677yaJ2xpbmUnIHwgJ3NoYWRvdycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZ3JpZDogew0KICAgICAgICAgICAgICAgIGxlZnQ6ICczJScsDQogICAgICAgICAgICAgICAgcmlnaHQ6ICc0JScsDQogICAgICAgICAgICAgICAgYm90dG9tOiAnMyUnLA0KICAgICAgICAgICAgICAgIGNvbnRhaW5MYWJlbDogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHhBeGlzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLA0KICAgICAgICAgICAgICAgICAgICAvLyBkYXRhOiBbJ+W8oOS4iScsICfmnY7lm5snLCAn546L5LqUJywgJ+i1teWFrScsICflsI/kuIMnXSwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogbmFtZUxpc3QsDQogICAgICAgICAgICAgICAgICAgIGF4aXNUaWNrOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBhbGlnbldpdGhMYWJlbDogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHlBeGlzOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAndmFsdWUnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICAgICAgIHNlcmllczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+enr+WIhicsDQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdiYXInLA0KICAgICAgICAgICAgICAgICAgICBiYXJXaWR0aDogJzYwJScsDQogICAgICAgICAgICAgICAgICAgIC8vIGRhdGE6IFszOTAsIDM1MiwgMjAwLCAxMzQsIDkwXQ0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBzY29yZUxpc3QNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdDQogICAgICAgIH07DQoNCm15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbik7DQoNCg0KDQp9DQoNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSAoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBuYW1lTGlzdDogW10sDQogICAgICAgICAgICBzY29yZUxpc3Q6IFtdLA0KICAgICAgICAgICAgbG9hZGluZzogdHJ1ZQ0KICAgICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGdyYXBoLA0KICAgICAgICBhc3luYyBnZXREYXRhICgpIHsNCiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiY29tbXVuaXR5V2hvbGUvc2NvcmVCb2FyZCIpOw0KICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpDQogICAgICAgICAgICBsZXQgYXJyID0gcmVzLmRhdGEuZGF0YS5yZXZlcnNlKCk7DQogICAgICAgICAgICBsZXQgYXJyMiA9IGFyci5zcGxpY2UoMCw1KTsNCg0KICAgICAgICAgICAgLy8g5pWw5o2u5aSE55CGDQogICAgICAgICAgICBmb3IodmFyIGk9MDtpPGFycjIubGVuZ3RoO2krKykgew0KICAgICAgICAgICAgICAgIHRoaXMubmFtZUxpc3QucHVzaChhcnIyW2ldLm5hbWUpDQogICAgICAgICAgICAgICAgdGhpcy5zY29yZUxpc3QucHVzaChhcnIyW2ldLnNjb3JlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBjb25zb2xlLmxvZygn5p2h5Zu+PicsdGhpcy5uYW1lTGlzdCkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmnaHlm74+Jyx0aGlzLnNjb3JlTGlzdCkNCg0KICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5ncmFwaCh0aGlzLm5hbWVMaXN0LCB0aGlzLnNjb3JlTGlzdCk7DQogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICB9LCAxMDAwKTsNCiAgICAgICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICBhc3luYyBnZXREYXRhMiAoKSB7DQogICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoDQogICAgICAgICAgICAgICAgIi9nZXRHcmFwaCINCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCflnLDlm75yZXF1ZXN0JyxyZXMpOw0KICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsNCg0KICAgICAgICAgICAgLy8g5p6Q5p6EDQogICAgICAgICAgICAvLyBsZXQge2RhdGF9ID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoDQogICAgICAgICAgICAvLyAgICAgImdldEdyYXBoIg0KICAgICAgICAgICAgLy8gKQ0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3h4JyxkYXRhKTsNCiAgICAgICAgICAgIC8vIGxldCBkYXRhID0gcmVzOw0KDQoNCiAgICAgICAgICAgIC8vIOacrOWcsOa1i+ivlQ0KICAgICAgICAgICAgLy8gbGV0ICB7ZGF0YX0gID0gYXdhaXQgdGhpcy4kZ2V0KCIvZGF0YS9tdWx0aS5qc29uIik7DQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKQ0KDQogICAgICAgICAgICAvLyDmlbDmja7lpITnkIYNCiAgICAgICAgICAgIGxldCBhcnIgPSBbXTsNCiAgICAgICAgICAgIGZvcih2YXIgaT0wOyBpPGRhdGEuZ2VvLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgbGV0IG9uZVZhbHVlID0gW107DQogICAgICAgICAgICAgICAgb25lVmFsdWUucHVzaChkYXRhLmdlb1tpXS5sbmcpOw0KICAgICAgICAgICAgICAgIG9uZVZhbHVlLnB1c2goZGF0YS5nZW9baV0ubGF0KTsNCiAgICAgICAgICAgICAgICBvbmVWYWx1ZS5wdXNoKDAuMik7DQogICAgICAgICAgICAgICAgYXJyLnB1c2goew0KICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLmdlb1tpXS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb25lVmFsdWUsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmxpc3QgPSBhcnI7DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCflnLDlm74+JykNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFycikNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGgodGhpcy5saXN0KTsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgIH0sIDEwMDApOw0KICAgICAgICAgICAgDQogICAgICAgIH0sDQogICAgfSwNCiAgICBtb3VudGVkICgpIHsNCiAgICAgICAgdGhpcy5nZXREYXRhKCk7DQogICAgICAgIC8vIHRoaXMuZ2V0RGF0YTIoKTsNCiAgICB9LA0KICAgIA0KfQ0K"},{"version":3,"sources":["Bar.vue"],"names":[],"mappings":";;;;;AAKA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Bar.vue","sourceRoot":"src/components/index","sourcesContent":["<template>\r\n    <div id=\"maintestBar\" v-loading=\"loading\"></div>\r\n</template>\r\n\r\n<script>\r\nvar echarts = require('echarts')\r\n\r\nfunction graph(nameList, scoreList) {\r\nvar myChart = echarts.init(document.getElementById('maintestBar'));\r\nvar option = {};\r\n\r\n        option = {\r\n            tooltip: {\r\n                trigger: 'axis',\r\n                axisPointer: {            // 坐标轴指示器，坐标轴触发有效\r\n                    type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\r\n                }\r\n            },\r\n            grid: {\r\n                left: '3%',\r\n                right: '4%',\r\n                bottom: '3%',\r\n                containLabel: true\r\n            },\r\n            xAxis: [\r\n                {\r\n                    type: 'category',\r\n                    // data: ['张三', '李四', '王五', '赵六', '小七'],\r\n                    data: nameList,\r\n                    axisTick: {\r\n                        alignWithLabel: true\r\n                    }\r\n                }\r\n            ],\r\n            yAxis: [\r\n                {\r\n                    type: 'value'\r\n                }\r\n            ],\r\n            series: [\r\n                {\r\n                    name: '积分',\r\n                    type: 'bar',\r\n                    barWidth: '60%',\r\n                    // data: [390, 352, 200, 134, 90]\r\n                    data: scoreList\r\n                }\r\n            ]\r\n        };\r\n\r\nmyChart.setOption(option);\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    data () {\r\n        return {\r\n            nameList: [],\r\n            scoreList: [],\r\n            loading: true\r\n        }\r\n    },\r\n    methods: {\r\n        graph,\r\n        async getData () {\r\n            let res = await this.$http.get(\"communityWhole/scoreBoard\");\r\n            console.log(res.data)\r\n            let arr = res.data.data.reverse();\r\n            let arr2 = arr.splice(0,5);\r\n\r\n            // 数据处理\r\n            for(var i=0;i<arr2.length;i++) {\r\n                this.nameList.push(arr2[i].name)\r\n                this.scoreList.push(arr2[i].score)\r\n            }\r\n            \r\n            console.log('条图>',this.nameList)\r\n            console.log('条图>',this.scoreList)\r\n\r\n            setTimeout(() => {\r\n                this.graph(this.nameList, this.scoreList);\r\n                this.loading = false;\r\n            }, 1000);\r\n            \r\n        },\r\n        async getData2 () {\r\n            let res = await this.$http.get(\r\n                \"/getGraph\"\r\n            )\r\n            console.log('地图request',res);\r\n            let data = res.data;\r\n\r\n            // 析构\r\n            // let {data} = await this.$http.get(\r\n            //     \"getGraph\"\r\n            // )\r\n            // console.log('xx',data);\r\n            // let data = res;\r\n\r\n\r\n            // 本地测试\r\n            // let  {data}  = await this.$get(\"/data/multi.json\");\r\n            // console.log(data)\r\n\r\n            // 数据处理\r\n            let arr = [];\r\n            for(var i=0; i<data.geo.length; i++) {\r\n                let oneValue = [];\r\n                oneValue.push(data.geo[i].lng);\r\n                oneValue.push(data.geo[i].lat);\r\n                oneValue.push(0.2);\r\n                arr.push({\r\n                    name: data.geo[i].name,\r\n                    value: oneValue,\r\n                });\r\n            }\r\n            this.list = arr;\r\n            \r\n            // console.log('地图>')\r\n            // console.log(arr)\r\n            setTimeout(() => {\r\n                this.graph(this.list);\r\n                this.loading = false;\r\n            }, 1000);\r\n            \r\n        },\r\n    },\r\n    mounted () {\r\n        this.getData();\r\n        // this.getData2();\r\n    },\r\n    \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    #maintestBar {\r\n        width: 100%;\r\n        height: 400px;\r\n        border: 1px solid #EBEEF5;\r\n    }\r\n</style>\r\n"]}]}